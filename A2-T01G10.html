<html>

<head>
<style>
     th, td 
	 {
    padding: 10px;
     }

     body
	 {
    margin: 5
     }

     table#table2
    {
        table-layout: fixed;
        width: 750px;
    }

    td#td2
    {
        text-align: center;
    }

    .button-container 
    {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    text-align: center;
    }

    button 
    {
    flex: 1;
    margin: 5px;
    max-width: 150px;
    }

    .spacer 
    {
    flex: 0.2;
    }

    #current-score
    {
        color: red;
    }

    .item
    {
        display: block;
        width: 100px;
        height: 100px;
        margin: auto;
        font-size: 2em;
    }

</style>
<title>A2-T01G10-7916024,7894429,7894612(Lester Choo,Louis,Hazziq)</title>

</head>

<body>

<h2><u> Part 1: </u></h2>
<table border = "1" width = 50%>
    <tr style = "height: 50px">
        <th colspan = "3" bgcolor = #F0F8FF> CSIT128: Assignment 2 </th>
        <th width = 40% bgcolor = #F0F8FF> Group T01G10 </th>
    </tr>
    <tr style>
        <td rowspan="3" style = "height: 110px"> Student Number / Name / Email</td>
        <td> 7916024</td>
        <td> Choo You Liang Lester</td>
        <td> yllchoo001@mymail.sim.edu.sg</td>
    </tr>
    <tr>
        <td> 7894429</td>
        <td> Lu Yi-Houng</td>
        <td> yhlu002@mymail.sim.edu.sg</td>
    </tr>
	<tr>
        <td> 7894612</td>
        <td> Muhammad Haziq Bin Ali Akbar</td>
        <td> muhammad906@mymail.sim.edu.sg</td>
    </tr>
</table>

<h2>Part 2: </h2>

<table border = "1" width = 50%>
     <tr>
	     <th colspan = "3" bgcolor = #F5CBA7> Part 2: Game </th>
	 </tr>
	 <tr style = "font-size: 16px;">
            <td bgcolor = #D6EAF8><b> Your Chosen Number: </b></td>
            <td bgcolor = #D6EAF8>
                <select id = "target-item" style="width: 100%; text-align: center;">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                </select>
            </td>
            <th bgcolor = #F9E79F>
                <div style="display: flex; align-items: center;">
                    <div>Current Score: </div>
                    <span id="current-score" style="margin-left: 10px;font-size: 24px">0</span>
                </div>
            </th>
        </tr>
        <tr>
            <th colspan = "3" bgcolor = #A9DFBF>
                <div class="button-container">
                    <button id="start-button" onclick = "startGame()">Start Game</button>
                    <div class="spacer"></div> 
                    <button id="stop-button" onclick = "stopGame()">Stop Game</button>
                </div>
            </th>
        </tr>
        <tr>
            <td>
                <button class="item" id="item1" onclick="itemClick('item1')"></button>
            </td>
            <td>
                <button class="item" id="item2" onclick="itemClick('item2')"></button>
            </td>
            <td>
                <button class="item" id="item3" onclick="itemClick('item3')"></button>
            </td>
        </tr>  
</table>
<script>
            let intervalId = null;
            let score = 0;
            let speed = 2000;
            let targetItem = null;

            function startGame() 
            {
                document.getElementById("target-item").disabled = true;
                clearInterval(intervalId);
                score = 0;
                document.getElementById("current-score").innerText = score;
                intervalId = setInterval(generateItems, speed);
            }

            function stopGame() 
            {
                document.getElementById("target-item").disabled = false;
                clearInterval(intervalId);
            }

            function generateItems() 
            {
                let items = [
                    
                    "0",
                    "1",
                    "2",
                    "3",
                    "4",
                    "5",
                    "6",
                    "7",
                    "8",
                    "9",
                ];

                let targetIndex = document.getElementById("target-item").selectedIndex;
                targetItem = document.getElementById("target-item").options[targetIndex].value;

                let indices = [];
                while (indices.length < 3) 
                {
                    let randomIndex = Math.floor(Math.random() * items.length);
                    if (!indices.includes(randomIndex)) 
                    {
                    indices.push(randomIndex);
                    }
                }

                let item1 = items[indices[0]];
                let item2 = items[indices[1]];
                let item3 = items[indices[2]];

                if (![item1, item2, item3].includes(targetItem)) 
                {
                    return generateItems();
                }

                document.getElementById("item1").innerHTML = item1;
                document.getElementById("item2").innerHTML = item2;
                document.getElementById("item3").innerHTML = item3;

                document.getElementById("item1").addEventListener("click", itemClick);
                document.getElementById("item2").addEventListener("click", itemClick);
                document.getElementById("item3").addEventListener("click", itemClick);

                setTimeout(() => {
                    document.getElementById("item1").removeEventListener("click", itemClick);
                    document.getElementById("item2").removeEventListener("click", itemClick);
                    document.getElementById("item3").removeEventListener("click", itemClick);
                }, speed - 200);
            }

            function itemClick(event) 
            {
                let clickedItem = event.target;
                if (clickedItem.innerHTML === targetItem) 
                {
                    score += 3;
                } 
                else 
                {
                    score -= 2;
                }
                document.getElementById("current-score").textContent = score;
            }

            function selectTargetItem() 
            {
                let targetItemIndex = Math.floor(Math.random() * 33);
                targetItem = document.getElementById("target-item").options[targetItemIndex].value;
                document.getElementById("target-item-display").innerText = targetItem;
            }

            selectTargetItem();
            startGame();
        </script>
</body>

</html>